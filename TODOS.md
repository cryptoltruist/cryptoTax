# Development roadmap (to-do list)

- Shakepay: include CAD referrals in rewards
- Shakepay: add support for sales...
- Write new function to get latest transaction dates by exchanges.
- Write new function to check where negative balances appear.
- Write vignette on the general workflow using `prepare_list_prices`, etc.
- Superficial loss needs to look at least 30 days in the new year (assuming a transaction occured on the last day of the year). Therefore, when filtering for year, it should first calculate superficial losses until say January 30 of the next year, and at the end filter again for the selected year.
- Fix duplicated columns in sup loss calculations
- Better error message when not providing first buy transactions (so no ACB...)
- Check for all trading exchanges that prices of sells and buys match
- For NA fees, check and replace with 0 in ACB instead of each exchange...
- Detect new transaction types not accounted for
- Replace for-loops with dplyr (e.g., in ACB) to increase efficiency 
- Think about using data.table or dtplyr to increase efficiency 
- Clarify the time zones for year to year transition days!
- Still have to follow-up with each exchange where time isn't specified to know whether it is EST or EDT time! Including: Wealthsimple.
- When price is fetched through `priceR`, indicate the source of the price accordingly
- Add option to change whether different transaction types (cashback, airdrops) are considered as part of taxable revenue stream (or explain how to do it in the Tax report)
- For `report_revenues()`, better and more clearly accommodate tax year
- Correct "Total time elapsed:" from minutes to seconds when in seconds
- Add custom import with no non-sense defaults, but also the possibility for custom columns. Also add option for time zone.
- Make sample datasets (2 exchanges, then combine them), e.g. CDC, ShakePay, Newton.
- Clean up all the scripts; optimize code with renaming names at the top, etc.
- Check <https://github.com/BittyTax/BittyTax> for general inspiration
- Finish the Shiny app: editable table, see <https://www.r-bloggers.com/2019/04/edit-datatables-in-r-shiny-app/>
